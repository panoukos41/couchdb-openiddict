{
    "_id": "_design/token",
    "language": "javascript",
    "views": {
        "count": {
            "reduce": "_count",
            "map": "function (doc) {\n  if (doc.split_discriminator == 'openiddict.token') {\n    emit(doc._id, doc._rev);\n  }\n}"
        },
        "application_id": {
            "map": "function (doc) {\n  if (doc.split_discriminator == 'openiddict.token') {\n    emit(doc.application_id, doc._rev);\n  }\n}"
        },
        "authorization_id": {
            "map": "function (doc) {\n  if (doc.split_discriminator == 'openiddict.token') {\n    emit(doc.authorization_id, doc._rev);\n  }\n}"
        },
        "prune": {
            "map": "function (doc) {\n  if (doc.split_discriminator == 'openiddict.token' && doc.status i= 'inactive' && doc.status i= 'valid') {\n    emit([doc.creation_date, doc.expiration_date], doc._rev);\n  }\n}"
        }
    }
}